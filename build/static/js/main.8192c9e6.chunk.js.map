{"version":3,"sources":["containers/App/components/ApplicationHeader.jsx","containers/App/components/ApplicationFooter.jsx","containers/App/components/ApplicationNavigation.jsx","components/Modal/LoginModal.jsx","components/Modal/InactivityModal.jsx","components/Views/Placeholder.jsx","containers/App/App.jsx","routes/app.jsx","serviceWorker.js","components/Global/WebApi.jsx","Store.js","index.js"],"names":["Header","props","state","account","window","cache","auth","menu","logout","bind","storage","set","location","href","Navbar","className","id","Collapse","Nav","style","width","NavDropdown","title","this","fullname","undefined","role","company","Item","name","Divider","onClick","Component","Footer","Date","getFullYear","target","rel","ApplicationNavigation","scrollbarFadeEnabled","scrollbarOptions","wheelSpeed","minScrollbarLength","maxScrollbarLength","suppressScrollX","height","user","User","scrollbarRef","React","createRef","addScrollbarListener","calibrateSizing","items","attachJqueryAccordionCrap","isMobile","$","on","each","collapse","type","icon","route","condition","hasAbilityTo","children","globalAdmin","action","data-v-step","data-toggle","data-target","aria-controls","aria-expanded","aria-label","to","src","alt","options","scrollheight","ref","map","item","index","key","data-parent","child","childIndex","ability","abilities","find","o","LoginModal","context","errorZone","handleShow","handleClose","handleSubmit","handleExit","handleEmailChange","handlePasswordChange","testAuthenticationToken","loginSucceeded","loginFailed","validateForm","show","email","password","event","setState","value","current","innerHTML","WebApi","tokens","create","grant","then","response","console","log","access","data","catch","error","silentCheck","accounts","validated","finally","f","remove","Modal","onHide","backdrop","Title","Body","onSubmit","Form","Group","controlId","Label","Control","onChange","autoFocus","Button","disabled","bsstyle","InactivityModal","username","refs","closeButton","bsStyle","App","loginModal","inactivityModal","componentDidMount","_notificationSystem","get","authenticated","e","innerWidth","history","pathname","document","documentElement","indexOf","classList","toggle","ApplicationFooter","Boolean","hostname","match","queryObject","q","p","hasOwnProperty","push","encodeURIComponent","join","testingToken","headers","token","Authorization","method","url","uploadProgressHandler","buildQueryParams","parameters","buildHeaders","body","JSON","stringify","Promise","resolve","reject","fetch","json","meta","status","message","accountId","that","avatars","file","progressHandler","signedUploads","upload","request","include_branding","notifications","notificationId","destroy","update","subscriptions","tokenId","SecureLS","encodingType","store","WebApiExceptionHandler","Websocket","WebsocketListener","TokenLifeManager","Tour","branding","default","notificationsMeta","config","LoaderEnabled","ConfettiEnabled","AchievementsEnabled","TranslatorEnabled","WebSocketsEnabled","NotificationsEnabled","transitions","duration","enter","leave","enterClass","leaveClass","page","loading","fullpage","references","Loader","ReactDOM","render","StrictMode","path","component","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8192c9e6.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\n\n/*eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"styles\" }]*/\n/* styles is used silently */\nimport styles from './ApplicationHeader.css';\n\nclass Header extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n                account: window.cache.auth.account,\n                menu: false\n        };\n        this.logout = this.logout.bind(this);\n\n    }\n    \n    logout() {\n        // temp stub\n        window.cache.storage.set('access', null);\n        window.location.href = \"/\";\n        \n    }\n\n   \n    \n    render(){\n         return (\n                <Navbar className=\"shadow-vivid fixed-top\" id=\"navbar-main\">\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                  <Nav className=\"justify-content-end\" style={{ width: \"100%\" }}>\n                \n                  \n                    <NavDropdown title={\n                            <span className=\"align-middle text-sm d-none d-lg-inline-block\">\n                            <span className=\"font-weight-bolder\">{this.state.account.fullname}</span><br/>\n                            { (this.state.account.role !== undefined && this.state.account.role !== \"\") && <span className=\"font-weight-light\">{this.state.account.role.title}</span>}\n                        </span>\n                        } id=\"basic-nav-dropdown\">\n                    { this.state.account.company !== undefined && \n                        <>\n                        <NavDropdown.Item>{ this.state.account.company.name }</NavDropdown.Item>\n                        <NavDropdown.Divider />\n                        </>\n                    }\n                      <NavDropdown.Item href=\"#action/3.2\">Bootstrap</NavDropdown.Item>\n                      <NavDropdown.Divider />\n                      <NavDropdown.Item onClick={ this.logout }>Logout</NavDropdown.Item>\n                    </NavDropdown>\n                  </Nav>\n                </Navbar.Collapse>\n              </Navbar>\n        );\n    }\n}\n\nexport default Header;\n","import React, {Component} from 'react';\n\nclass Footer extends Component {\n\trender() {\n\t\treturn (\n\t\t        <footer className=\"footer\">\n\t\t        <div className=\"row align-items-center justify-content-xl-between\">\n\t\t            <div className=\"col-xl-6\">\n\t\t                <div className=\"copyright text-center text-xl-left text-muted\">\n\t\t                    Copyright &copy; { new Date().getFullYear() } <a href=\"https://www.slvrcld.com\" className=\"font-weight-bold ml-1\" target=\"_blank\" rel=\"noopener noreferrer\">SLVRCLD BV</a><br/>\n\t\t                </div>\n\t\t            </div>\n\t\t            <div className=\"col-xl-6\">\n\t\t                <ul className=\"nav nav-footer justify-content-center justify-content-xl-end\">\n\t\t                </ul>\n\t\t            </div>\n\t\t        </div>\n\t\t    </footer>\n\t\t);\n\t}\n}\n\nexport default Footer;\n","import React, { Component } from 'react';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nimport {\r\n    isMobile\r\n} from 'mobile-device-detect'\r\nimport $ from 'jquery';\r\n\r\n\r\n/*eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"styles\" }]*/\r\n/* styles is used silently */\r\nimport styles from './ApplicationNavigation.css';\r\n\r\nclass ApplicationNavigation extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scrollbarFadeEnabled: false,\r\n            scrollbarOptions: {\r\n                wheelSpeed: 0.32,\r\n                minScrollbarLength: 500,\r\n                maxScrollbarLength: 500,\r\n                suppressScrollX: true,\r\n                height: '80vh'\r\n            }\r\n        };\r\n\r\n        this.user = new User(window.cache.auth.account);\r\n\r\n        //some refs\r\n        this.scrollbarRef = React.createRef();\r\n\r\n        \r\n        // some binds - not required for lifecycle methods\r\n        this.addScrollbarListener = this.addScrollbarListener.bind(this);\r\n        this.calibrateSizing = this.calibrateSizing.bind(this);\r\n        // method does not refer to this this.attachJqueryAccordionCrap = this.attachJqueryAccordionCrap.bind(this);\r\n        this.items = this.items.bind(this);\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.calibrateSizing();\r\n        this.attachJqueryAccordionCrap();\r\n\r\n    }\r\n\r\n    addScrollbarListener() {\r\n    }\r\n\r\n    calibrateSizing() {\r\n        // resize sidebar scroll if window resized\r\n    }\r\n\r\n    attachJqueryAccordionCrap() {\r\n        // Collapses other menu's when one is expanded\r\n        if (isMobile) {\r\n            // TODO convert this to non-jQuery\r\n            $('[id^=sidebar-item-]').on('show.bs.collapse', function() {\r\n                $('[id^=sidebar-item-]').each(function() {\r\n                   $(this).collapse('hide')\r\n                })\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    items() {\r\n        return [\r\n            {\r\n                type: 'label',\r\n                title: 'Overview'\r\n            },\r\n            {\r\n                type: 'link',\r\n                title: 'Dashboard',\r\n                icon: 'fa fa-line-chart',\r\n                route: 'Dashboard',\r\n            },\r\n            {\r\n                type: 'label',\r\n                title: 'Workflow',\r\n            },\r\n            {\r\n                type: 'group',\r\n                title: 'Claims',\r\n                icon: 'fa fa-briefcase',\r\n                condition: () => {\r\n                    return this.user.hasAbilityTo('claim:create') ||\r\n                        this.user.hasAbilityTo('claim:view:own') ||\r\n                        this.user.hasAbilityTo('claim:view:division')\r\n                },\r\n                children: [\r\n                    {\r\n                        title: 'View',\r\n                        route: 'ClaimView',\r\n                        condition: () => {\r\n                            // TODO to React return this.$route.name === 'ClaimView'\r\n                            return true\r\n                        }\r\n                    },\r\n                    {\r\n                        title: 'Request',\r\n                        route: 'ClaimProvisionInfo',\r\n                        condition: () => {\r\n                            return this.user.hasAbilityTo('claim:create')\r\n                        }\r\n                    },\r\n                    {\r\n                        title: 'List',\r\n                        route: 'ClaimsList',\r\n                        condition: () => {\r\n                            return this.user.hasAbilityTo('claim:view:divisions') || this.user.hasAbilityTo('claim:view:own')\r\n                        }\r\n                    }]\r\n            },\r\n            {\r\n                type: 'link',\r\n                title: 'Purchase Notes',\r\n                icon: 'fa fa-ticket',\r\n                route: 'SupplierPurchaseNotes',\r\n                condition: function () {\r\n                    return this.user.company.type === 'SUPPLIER' || this.user.hasAbilityTo('*')\r\n                }.bind(this),\r\n            },\r\n            {\r\n                type: 'link',\r\n                title: 'Dispatch Fees',\r\n                icon: 'fa fa-truck',\r\n                route: 'SupplierDispatchQuotes',\r\n                condition: function () {\r\n                    return this.user.hasAbilityTo('supplier:dispatch:fees')\r\n                }.bind(this),\r\n            },\r\n            {\r\n                type: 'link',\r\n                title: 'Inventory Quotes',\r\n                icon: 'fa fa-envelope',\r\n                route: 'SupplierInventoryQuotes',\r\n                condition: function () {\r\n                    return this.user.hasAbilityTo('supplier:inventory:quotes')\r\n                }.bind(this),\r\n            },\r\n            {\r\n                type: 'label',\r\n                title: 'Support',\r\n            },\r\n            {\r\n                type: 'link',\r\n                icon: 'fa fa-book',\r\n                title: 'Knowledge Base',\r\n                route: 'SupportKnowledgeBase',\r\n            },\r\n            {\r\n                type: 'label',\r\n                title: 'Internal',\r\n                condition: function () {\r\n                    return this.user.globalAdmin !== undefined && this.user.globalAdmin\r\n                }.bind(this),\r\n            },\r\n            {\r\n                type: 'group',\r\n                title: 'Websocket',\r\n                icon: 'fa fa-globe',\r\n                condition: function () {\r\n                    return this.user.hasAbilityTo('*')\r\n                }.bind(this),\r\n                children: [\r\n                    {\r\n                        title: 'Connections',\r\n                        route: 'WebsocketConnections',\r\n                    }]\r\n            },\r\n            {\r\n                type: 'link',\r\n                title: 'Switch Role',\r\n                icon: 'fa fa-shield',\r\n                condition: function () {\r\n                    return this.user.globalAdmin !== undefined && this.user.globalAdmin\r\n                }.bind(this),\r\n                action: () => {\r\n                    //this.showRoleSwitchModal()\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar sidebar navbar-vertical fixed-left navbar-expand-md navbar-light py-sm-3\" id=\"sidenav-main\" data-v-step=\"sidebar\">\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#sidenav-collapse-main\" aria-controls=\"sidenav-main\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <i className=\"fa fa-bars text-dark text-lg\"></i>\r\n                </button>\r\n\r\n                <Link to=\"/home\">\r\n                    <img\r\n                        src=\"https://slvrcld-assets.s3.eu-west-1.amazonaws.com/logo-white.svg\"\r\n                        alt=\"Logo\"\r\n                    />\r\n                </Link>\r\n\r\n                {/* Sidebar */}\r\n                <div className=\"collapse navbar-collapse\" id=\"sidenav-collapse-main\">\r\n                    <div className=\"navbar-collapse-header d-md-none\">\r\n                        <div className=\"row\">\r\n                            <Link className=\"col-6\" to=\"/home\">\r\n                                <img\r\n                                    src=\"https://slvrcld-assets.s3.eu-west-1.amazonaws.com/logo-white.svg\"\r\n                                    alt=\"Logo\"\r\n                                />\r\n                            </Link>\r\n                            <div className=\"col-6 collapse-close\">\r\n                                <button type=\"button\" className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#sidenav-collapse-main\" aria-controls=\"sidenav-main\" aria-expanded=\"false\" aria-label=\"Toggle sidenav\">\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={'sidebar-fade-top' + this.state.scrollbarFadeEnabled ? ' show' : ''}></div>\r\n                    {/* next was Scrollbar */}\r\n                    <div options={this.state.scrollbarOptions} scrollheight={this.state.scrollbarOptions.height} ref={this.scrollbarRef}>\r\n                        {\r\n                            this.items().map((item, index) => {\r\n\r\n                                /* Group */\r\n                                if (item.type === 'group' && (item.condition === undefined || item.condition() === true)) {\r\n                                    return (\r\n\r\n                                        <ul className=\"navbar-nav\" id={'sidebar-group-' + index} key={'sidebar-group-' + index}>\r\n                                            <li className=\"nav-item\" >\r\n                                                <div className=\"nav-link link-button\" data-toggle=\"collapse\" data-target={'#sidebar-item-' + index} role=\"menuitem\">\r\n                                                    <i className={item.icon}></i> {item.title}\r\n                                                </div>\r\n                                                <div className=\"collapse\" id={'sidebar-item-' + index} data-parent={'#sidebar-group-' + index}>\r\n                                                    <ul className=\"navbar-nav\">\r\n                                                        {\r\n                                                            (item.children !== undefined) ? (\r\n\r\n                                                                item.children.map((child, childIndex) => {\r\n                                                                    return (\r\n                                                                        (child.condition === undefined || child.condition() === true) ? (\r\n\r\n                                                                            <li className=\"nav-item nav-item-child\" key={'sidebar-item-' + index + '-' + childIndex} >\r\n                                                                                {\r\n                                                                                    (child.action === undefined) ? (\r\n                                                                                        <Link to={child.route} className=\"nav-link\">\r\n                                                                                            <i className=\"fa fa-circle-o\"></i> {child.title}\r\n                                                                                        </Link>\r\n                                                                                    ) : (\r\n                                                                                            <div className=\"nav-link nav-link-action link-button\" onClick={child.action}>\r\n                                                                                                <i className=\"fa fa-circle-o\"></i> {child.title}\r\n                                                                                            </div>\r\n                                                                                        )\r\n                                                                                }\r\n                                                                            </li>\r\n                                                                        ) : \"\"\r\n                                                                    )\r\n                                                                })) : \"\"}\r\n                                                    </ul>\r\n                                                </div>\r\n                                            </li>\r\n                                        </ul>\r\n                                    )\r\n                                }\r\n                                else if (item.type === 'link' && (item.condition === undefined || item.condition() === true)) {\r\n                                    return (\r\n\r\n                                        /* Link (No Children) */\r\n                                        <ul className=\"navbar-nav\" key={'sidebar-group-' + index}>\r\n                                            <li className=\"nav-item\" >\r\n                                                {(item.action === undefined) ? (\r\n                                                    <Link to={item.route} className=\"nav-link\">\r\n                                                        <i className={item.icon}></i> {item.title}\r\n                                                    </Link>\r\n                                                ) : (\r\n                                                        <div className=\"nav-link nav-link-action link-button\" onClick={item.action}>\r\n                                                            <i className={item.icon}></i> {item.title}\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                            </li>\r\n                                        </ul>\r\n                                    )\r\n                                }\r\n                                else if (item.type === 'label' && (item.condition === undefined || item.condition() === true)) {\r\n                                    return (\r\n                                        <div key={'sidebar-group-' + index}>\r\n                                            {/* Divider per label */}\r\n                                            {(index > 0) &&\r\n                                                <hr className=\"my-3\" />\r\n                                            }\r\n                                            {/* Label */}\r\n                                            <h6 className=\"navbar-heading text-muted\">\r\n                                                {item.title}\r\n                                            </h6>\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\"\")\r\n                                }\r\n                            })}\r\n                    </div>\r\n                    <div className=\"sidebar-bottom\">\r\n                        <div className=\"sidebar-fade-bottom\"></div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\n// TODO class move to own file on first shared use\r\nclass User {\r\n\r\n    constructor(account) {\r\n        // invokes the setter\r\n        this.company = account.company;\r\n        this.role = account.role;\r\n    }\r\n\r\n\r\n    hasAbilityTo(ability) {\r\n        return this.role.abilities.find(function (o) {\r\n            return o.name === '*' || o.name === ability\r\n        }) !== undefined\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ApplicationNavigation;\r\n","import React from 'react';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nclass LoginModal extends React.Component {\r\n\t  constructor(props, context) {\r\n\t    super(props, context);\r\n\r\n\t    \r\n        this.errorZone = React.createRef();\r\n\r\n\t    this.handleShow = this.handleShow.bind(this);\r\n\t    this.handleClose = this.handleClose.bind(this);\r\n\t    this.handleSubmit = this.handleSubmit.bind(this);\r\n\t    this.handleExit = this.handleExit.bind(this);\r\n\t    this.handleEmailChange = this.handleEmailChange.bind(this);\r\n\t    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.testAuthenticationToken = this.testAuthenticationToken.bind(this);\r\n        this.loginSucceeded = this.loginSucceeded.bind(this);\r\n        this.loginFailed = this.loginFailed.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n\t    this.validateForm = this.validateForm.bind(this);\r\n\r\n\t    this.state = {\r\n\t      show: false,\r\n\t      email: \"\",\r\n\t      password: \"\"\r\n\t    };\r\n\t  }\r\n\r\n\r\n\t  handleEmailChange(event) {\r\n\t\t    this.setState({email: event.target.value});\r\n\t\t  }\r\n\r\n\t  handlePasswordChange(event) {\r\n\t\t    this.setState({password: event.target.value});\r\n\t\t  }\r\n\t  \r\n\t  handleSubmit() {\r\n\t      this.errorZone.current.innerHTML = \"&nbsp;\";\r\n\t\t  if(this.validateForm()) { // b & b\r\n\t\t      // XXX work out how to store a general reference to an instance of WebApi or any instance\r\n\t            window.cache.WebApi.tokens().create({\r\n\t                email: this.state.email,\r\n\t                password: this.state.password,\r\n\t                name: 'Frontend Session',\r\n\t                grant: 'password'\r\n\t            }).then((response) => {\r\n\t                console.log('handleSubmit response', response);\r\n\t                window.cache.auth.access = response.data\r\n\t                window.cache.storage.set('access', window.cache.auth.access)\r\n\t                this.testAuthenticationToken(false)\r\n\t            }).catch((error) => {\r\n\t                this.errorZone.current.innerHTML = error\r\n\t            })\r\n\r\n\t\t  }\r\n\t\t  \r\n\t  }\r\n\t  \r\n\t  \r\n      testAuthenticationToken(silentCheck) {\r\n          window.cache.WebApi.accounts().find().then((response) => {\r\n              console.log('testAuthenticationToken', response)\r\n              window.cache.auth.account = response.data\r\n              window.cache.auth.validated = true\r\n              this.loginSucceeded(response)\r\n          }).catch((error) => {\r\n              if (!silentCheck) {\r\n                  this.loginFailed(error)\r\n              }\r\n          }).finally(f => {\r\n              //this.form.loading = false\r\n          })\r\n      }\r\n      \r\n      loginSucceeded(response) {\r\n          this.errorZone.current.innerHTML = '&nbsp;';\r\n          window.cache.storage.set('account', window.cache.auth.account)\r\n\r\n          // TODO load the current route or base route if none exists\r\n          window.location.href = \"/\";\r\n\r\n          \r\n          }\r\n      \r\n      loginFailed(error) {\r\n          window.cache.auth.access = false\r\n          window.cache.auth.validated = false\r\n          window.cache.storage.remove('access')\r\n\r\n          this.errorZone.current.innerHTML = error\r\n      }\r\n\r\n\r\n\t  validateForm() {\r\n\t\t  if(this.state.email !== '' && this.state.password !== '') {\r\n\t\t\t  return true;\r\n\t\t  } else {\r\n\t\t\t  return false;\r\n\t\t  }\r\n\t  }\r\n\r\n\t  \r\n\t  handleClose() {\r\n\t    this.setState({ show: false });\r\n\t    // TODO load the logged out route\r\n\r\n\t  }\r\n\r\n\t  handleShow() {\r\n\t    this.setState({ show: true });\r\n\t  }\r\n\r\n\t  handleExit() {\r\n\t\t  this.handleClose();\r\n\t  }\r\n\r\n\t  render() {\r\n\r\n\t    return (\r\n\t      <div>\r\n\t        <Modal show={this.state.show} onHide={this.handleClose} backdrop=\"static\">\r\n\t          <Modal.Header>\r\n\t            <Modal.Title>Login</Modal.Title>\r\n\t          </Modal.Header>\r\n\t          <Modal.Body>\r\n\t            <h4>Please login to continue</h4>\r\n\t            <form onSubmit={this.handleSubmit}>\r\n\t            <Form.Group controlId=\"email\">\r\n\t              <Form.Label>Email</Form.Label>\r\n\t              <Form.Control\r\n\t                onChange={this.handleEmailChange}\r\n\t                autoFocus\r\n\t              />\r\n\t            </Form.Group>\r\n\t            <Form.Group controlId=\"password\">\r\n\t              <Form.Label>Password</Form.Label>\r\n\t              <Form.Control\r\n\t                type=\"password\"\r\n\t                onChange={this.handlePasswordChange}\r\n\t              />\r\n\t            </Form.Group>\r\n\t          </form>\r\n\r\n\t            <div ref={this.errorZone}>&nbsp;</div>\r\n\r\n\t            <hr />\r\n\r\n\t          </Modal.Body>\r\n\t          <Modal.Footer>\r\n\t            <Button onClick={this.handleExit} >Exit</Button>\r\n\t            <Button onClick={this.handleSubmit} disabled={!this.validateForm()} bsstyle=\"info\">Login</Button>\r\n\t          </Modal.Footer>\r\n\t        </Modal>\r\n\t      </div>\r\n\t    );\r\n\t  }\r\n\t}\r\n\r\nexport default LoginModal;\r\n\t","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nclass InactivityModal extends React.Component {\r\n\t  constructor(props, context) {\r\n\t    super(props, context);\r\n\r\n    \r\n\t    this.handleShow = this.handleShow.bind(this);\r\n\t    this.handleClose = this.handleClose.bind(this);\r\n\t    this.handleSubmit = this.handleSubmit.bind(this);\r\n\t    this.handleExit = this.handleExit.bind(this);\r\n\r\n\t    this.state = {\r\n\t      show: false,\r\n\t      username: \"\",\r\n\t      password: \"\"\r\n\t    };\r\n\t  }\r\n\r\n\r\n\t  \r\n\t  handleSubmit() {\r\n\t\t  this.refs.errorZone.innerHTML = \"&nbsp;\";\r\n\t\t  // TODO reset inactivity timer\r\n\t\t  \r\n\t  }\r\n\r\n  \r\n\t  handleClose() {\r\n\t      this.setState({ show: false });\r\n\t\t  // TODO logoff to be safe\r\n\r\n\t  }\r\n\r\n\t  handleShow() {\r\n\t    this.setState({ show: true });\r\n\t  }\r\n\r\n\t  handleExit() {\r\n\t\t  this.handleClose();\r\n\t  }\r\n\r\n\t  render() {\r\n\r\n\t    return (\r\n\t      <div>\r\n\r\n\t        <Modal show={this.state.show} onHide={this.handleClose}>\r\n\t          <Modal.Header closeButton>\r\n\t            <Modal.Title>User inactivity detected</Modal.Title>\r\n\t          </Modal.Header>\r\n\t          <Modal.Body>\r\n\t            <h4>You have been inactive for some time</h4>\r\n\r\n\t            <div ref=\"errorZone\">&nbsp;</div>\r\n\r\n\t            <hr />\r\n\r\n\t          </Modal.Body>\r\n\t          <Modal.Footer>\r\n\t            <Button onClick={this.handleExit}>Exit</Button>\r\n\t            <Button onClick={this.handleSubmit} bsStyle=\"info\">Remain logged in</Button>\r\n\t          </Modal.Footer>\r\n\t        </Modal>\r\n\t      </div>\r\n\t    );\r\n\t  }\r\n\t}\r\n\r\nexport default InactivityModal;\r\n\t","import React, { Component } from 'react';\r\nimport { Container , Row, Col } from 'react-bootstrap';\r\n\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <Container fluid>\r\n                    <Row>\r\n                        <Col lg={12} sm={6}>\r\n                                 TBD\r\n                         </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\n\nimport ApplicationHeader from './components/ApplicationHeader';\nimport ApplicationFooter from './components/ApplicationFooter';\nimport ApplicationNavigation from './components/ApplicationNavigation';\nimport LoginModal from 'components/Modal/LoginModal';\nimport InactivityModal from 'components/Modal/InactivityModal';\nimport { authenticated } from 'routes/app'\n\n/*eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"styles\" }]*/\n/* styles is used silently */\nimport styles from './App.css';\n\n\nclass App extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.loginModal = React.createRef();\n        this.inactivityModal = React.createRef();\n\n        this.componentDidMount = this.componentDidMount.bind( this );\n\n        this.state = {\n            _notificationSystem: null\n        };\n    }\n\n    \n    \n    componentDidMount() {\n        if(!authenticated()) {\n            this.loginModal.current.handleShow();\n        }\n    }\n    \n    componentDidUpdate( e ) {\n        if ( window.innerWidth < 993 && e.history.location.pathname !== e.location.pathname && document.documentElement.className.indexOf( 'nav-open' ) !== -1 ) {\n            document.documentElement.classList.toggle( 'nav-open' );\n        }\n    }\n\n    isAuthenticated() {\n        //return window.authenticated === true; // JSESSIONID Set-Cookie header problem\n        return true;\n    }\n\n    render() {\n        return (\n\n                <>\n                <ApplicationNavigation {...this.props} />\n                <div className=\"content\">\n                    <ApplicationHeader  {...this.props} />\n                    <LoginModal ref={this.loginModal}/>\n                    <InactivityModal ref={this.inactivityModal} />\n                    <div className=\"container-fluid\">\n                        <slot></slot>\n                        <ApplicationFooter  {...this.props} />\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default App;\n","import appRoutes from 'routes/appRoutes';\r\n\r\nfunction authenticated() {\r\n    let access = window.cache.storage.get('access');\r\n    console.log('authenticated() access', access);\r\n    return (access.id !== undefined);\r\n}\r\n\r\nexport { appRoutes, authenticated};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { Component } from 'react';\r\n\r\nconst basePath = 'https://api-sandbox.slvrcld.com/v1';\r\n\r\nclass WebApi extends Component {\r\n\r\n    constructor( props ) {\r\n        super( props );\r\n        this.state = {\r\n        };\r\n     }\r\n\r\n\r\n    /*\r\n    |--------------------------------------------------------------------------\r\n    | HTTP Client Request Query Parameter Constructor\r\n    |--------------------------------------------------------------------------\r\n    |\r\n    | Builds the HTTP request query string parameters if any exist. The argument\r\n    | passed to the function must be of standard object type.\r\n    |\r\n    */\r\n    buildQueryParams(queryObject) {\r\n        var q = []\r\n        if (queryObject) {\r\n            for (var p in queryObject)\r\n                if (queryObject.hasOwnProperty(p)) {\r\n                    q.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(queryObject[p]))\r\n                }\r\n        }\r\n        return '?' + q.join(\"&\")\r\n    }\r\n\r\n    buildHeaders(testingToken) {\r\n        var headers = {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'X-Requested-With': 'XMLHttpRequest',\r\n        }\r\n\r\n        console.log('buildHeaders window.cache.auth.access', window.cache.auth.access);\r\n        \r\n        if (window.cache.auth.access && window.cache.auth.access.token) {\r\n            headers.Authorization = `Bearer ${window.cache.auth.access.token}`\r\n        }\r\n\r\n        return headers\r\n    }\r\n\r\n    /*\r\n    |--------------------------------------------------------------------------\r\n    | HTTP Client Request Constructor\r\n    |--------------------------------------------------------------------------\r\n    |\r\n    | Builds the HTTP request with common appendages to reduce repetition.\r\n    |\r\n    */\r\n    request(method, url, q, data, uploadProgressHandler) {\r\n        url += this.buildQueryParams(q)\r\n\r\n        let parameters = {\r\n                    method: method,\r\n                    headers: this.buildHeaders()\r\n                };\r\n            \r\n        if (method === 'post' || method === 'put' ) {\r\n            parameters.body = JSON.stringify(data);\r\n        }\r\n\r\n         return new Promise((resolve, reject) => {\r\n            fetch(basePath + url, parameters).then((response) => {\r\n                response.json()\r\n                    .then((json) => {\r\n                        if(json.meta.status === 'success') {\r\n                            return resolve(json)\r\n                        } else {\r\n                            return reject(json.meta.message)\r\n                        }\r\n                    }).catch((error) => {\r\n                        return reject(error)\r\n                    })\r\n                    \r\n                })\r\n          })\r\n\r\n        \r\n    }\r\n\r\n    /*\r\n    |--------------------------------------------------------------------------\r\n    | Account API's\r\n    |--------------------------------------------------------------------------\r\n    |\r\n    | Management of the authenticated user's own account.\r\n    |\r\n    */\r\n    accounts(accountId, q) {\r\n        let that = this;\r\n        return {\r\n            avatars() {\r\n                return {\r\n                    create(file, progressHandler) {\r\n                        return new Promise((resolve, reject) => {\r\n                            that.signedUploads().upload(file, progressHandler).then((response) => {\r\n                                that.request('post', `/accounts/${accountId}/avatars`, q, response.data.data).then((response) => {\r\n                                    return resolve(response)\r\n                                }).catch((error) => {\r\n                                    return reject(error)\r\n                                })\r\n                            })\r\n                        })\r\n                    }\r\n                }\r\n            },\r\n            create(data) {\r\n                return that.request('post', `/accounts`, q, data)\r\n            },\r\n            find() {\r\n                return that.request('get', '/accounts', {\r\n                    ...q,\r\n                    ...{\r\n                        include_branding: 1\r\n                    }\r\n                })\r\n            },\r\n            notifications(notificationId, q) {\r\n                return {\r\n                    get(q) {\r\n                        return that.request('get', `/accounts/${accountId}/notifications`, q)\r\n                    },\r\n                    destroy(q) {\r\n                        return that.request('delete', `/accounts/${accountId}/notifications/${notificationId}`, q)\r\n                    },\r\n                    update(data, q) {\r\n                        return that.request('put', `/accounts/${accountId}/notifications/${notificationId}`, q, data)\r\n                    }\r\n                }\r\n            },\r\n            update(data) {\r\n                return that.request('post', `/accounts/${accountId}`, q, data)\r\n            },\r\n            subscriptions(q) {\r\n                return {\r\n                    update(data) {\r\n                        return that.request('post', `/accounts/${accountId}/subscriptions`, q, data)\r\n                    },\r\n                    get(q) {\r\n                        return that.request('get', `/accounts/${accountId}/subscriptions`, q)\r\n                    }\r\n                }\r\n            },\r\n        }\r\n    }\r\n    \r\n    \r\n    /*\r\n    |--------------------------------------------------------------------------\r\n    | Token API's\r\n    |--------------------------------------------------------------------------\r\n    |\r\n    | Management of the authenticated user's own oauth tokens.\r\n    |\r\n    */\r\n    tokens(tokenId, q) {\r\n        let that = this;\r\n        return {\r\n            create(data) {\r\n                return that.request('post', '/tokens', q, data)\r\n            },\r\n            destroy() {\r\n                return that.request('delete', `/tokens/${tokenId}`, q)\r\n            },\r\n            get(q) {\r\n                return that.request('get', '/tokens', q)\r\n            },\r\n            update(data) {\r\n                return that.request('patch', `/tokens/${tokenId}`, q)\r\n            },\r\n        }\r\n    }\r\n\r\n\t\r\n}\r\nexport default WebApi;\r\n","import SecureLS from 'secure-ls'\r\n\r\n\r\nconst storage = new SecureLS({\r\n    encodingType: 'aes'\r\n})\r\n\r\nconst store =  {\r\n        WebApi: null,\r\n        WebApiExceptionHandler: null,\r\n        Websocket: null,\r\n        WebsocketListener: null,\r\n        TokenLifeManager: null,\r\n        Tour: null,\r\n        branding: {\r\n            default: {},\r\n            company: {},\r\n        },\r\n        storage: storage,\r\n        auth: {\r\n            validated: false,\r\n            access: storage.get('access'),\r\n            account: storage.get('account'),\r\n            notifications: null,\r\n            notificationsMeta: {},\r\n        },\r\n        config: {\r\n            LoaderEnabled: false,\r\n            ConfettiEnabled: false,\r\n            AchievementsEnabled: false,\r\n            TranslatorEnabled: true,\r\n            WebSocketsEnabled: false,\r\n            NotificationsEnabled: false,\r\n        },\r\n        transitions: {\r\n            duration: {\r\n                enter: 300,\r\n                leave: 300,\r\n            },\r\n            enterClass: 'animated fadeIn',\r\n            leaveClass: 'animated fadeOut',\r\n        },\r\n        page: {\r\n            title: false,\r\n            icon: false,\r\n            loading: false,\r\n            fullpage: false,\r\n        },\r\n        references: {\r\n            Loader: null,\r\n        }\r\n    }\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n    HashRouter,\n    Route,\n    Switch\n} from 'react-router-dom';\n\nimport \"./assets/css/base.css\";\nimport \"./assets/css/custom.css\";\n\n// to help migration Vue -> React.\n// start by using the bootstarp js stuff, data-toggle=\"collapse\"\nimport 'jquery/dist/jquery.js';\nimport '@popperjs/core/dist/umd/popper.js';\nimport 'bootstrap/dist/js/bootstrap.js';\n\nimport App from './containers/App/App';\nimport * as serviceWorker from './serviceWorker';\nimport WebApi from './components/Global/WebApi'\nimport store from './Store'\n\n\nstore.WebApi = new WebApi();\n// TODO replace window.cache with redux hooks or somesuch \nwindow.cache = store;\n\nReactDOM.render(\n  <React.StrictMode>\n      <HashRouter>\n          <Switch>\n              <Route path=\"/\" name=\"Home\" component={App}/>\n          </Switch>\n      </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}